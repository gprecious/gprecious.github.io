---
layout: post
title: "트레이너스 테크 블로그 개설 기념 포스팅"
date: 2024-02-21 18:00:00 +0900
categories: DAILY
---

15:50

### 이름 변경 기능 수정

프로필 페이지에서 유저의 정보를 가져오는 로직을 수정하였습니다.
기존에는 cookie 에 저장되어 있는 정보를 직접 가져왔습니다.
cookie 에 들어있는 정보는 react-query 를 사용하여 유저 정보를 가져온 후 저장한 것입니다.
새로운 방식은 query key 와 함께 refetch 요청을 하면 react-query 는 업데이트 된 유저 정보를 가져와서 cookie 에 저장함과 동시에 프로필 페이지에 최신 정보를 가져옵니다.

기존 방식

1. cookie 에 들어있는 유저 정보를 가져와서 페이지에 보여줍니다.
2. cookie 에 직접 접근하여 정보를 가져오므로 refetch 요청을 하지 않습니다.
3. 새로고침하기 전까지 페이지는 변경 전 이름을 보여주게 됩니다.

새로운 방식

1. react-query 요청으로 최신 정보를 응답으로 받아와 대입합니다.
2. refetch 요청을 하여, 추가적인 Http get 요청이 발생합니다.
3. 변경 즉시 페이지는 변경 후 이름을 보여 줍니다.

프로필 페이지만 놓고 보자면 뭔가 비효율적인 것 같지만, 전체적인 흐름을 보았을 때는 최신 방식이 더 적합합니다.
왜냐하면 유저 정보가 변경 되었기 때문에 refetch 를 하여 모든 페이지에서 새로운 정보에 접근할 수 있어야 하기 때문입니다.

16:02

### github page 개설

githup repository 를 생성하여 간단하게 기술 블로그를 만들었습니다.
마크다운을 사용하여 옵시디언에 기록한 내용을 그대로 옮기기 용이하며 개발자에게 익숙한 github 인터페이스를 그대로 활용할 수 있다는 장점이 크게 다가왔습니다.

2024-02-21-수요일 18:03

github page 에서는 Jekyll 을 사용하여 블로그 호스팅을 할 수 있습니다.
제가 사용하고 있는 m1 pro 맥북에서는 몇가지 문제가 있었습니다.

1. homebrew 로 ruby 를 설치했음에도 계속해서 시스템 ruby 를 사용
2. 시스템 ruby 는 bundler, jekyll 을 설치할 때, /Library 로 시작하는 디렉토리에 설치하려 시도합니다. 따라소 sudo password 를 요구하게 되죠. (그럼 뭔가 잘못된 것입니다)
3. .zshrc 에 homebrew 경로를 추가해도 자꾸 시스템 ruby 를 사용합니다.
4. 결국 이 문제는 직접적으로 해결하진 못했고 rbenv 를 사용해 ruby 를 설치하는 것으로 해결하였습니다. [참고](https://danaing.github.io/etc/2022/03/14/M1-mac-jekyll-setting.html)

저는 bash 대신 zsh 를 사용하고 있습니다. bash 를 사용한다면 .bashrc 를 수정하는 것으로 해결 될 수도 있습니다.

어쨌든 jekyll 을 설치하는데 성공하였고 블로그 초기세팅을 마쳤습니다.
